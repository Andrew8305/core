java package io.tetrapod.protocol.service
java outdir "../src"
javascript out "../rsc/protocol/tetrapod.js"

// The base contract every service must support
service BaseService @version(1) @id(2)

################################ STRUCTURES ################################

// allows an empty request to be called from admin app's service menu
internal struct ServiceCommand
   1: string name
   2: string icon
   3: int contractId
   4: int structId

################################# REQUESTS #################################

internal request Pause

internal request Unpause

internal request Shutdown

internal request Restart
   1: string restartNonce
   2: boolean restartPaused
 
internal request ServiceDetails
internal response ServiceDetails
   1: string iconURL
   3: string metadata
   2: ServiceCommand[] commands
   
internal request ServiceStatsSubscribe
internal request ServiceStatsUnsubscribe

################################# MESSAGES #################################

internal message ServiceStats.ServiceStats
	1: int entityId;
	2: int rps;
	3: int mps;
	4: long latency;	
	5: long counter;